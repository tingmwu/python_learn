<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>linux学习</title>
        <style>
</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </head>
    <body class="vscode-light">
        <h1 id="linux学习">linux学习</h1>
<h2 id="apt-更换国内源">apt 更换国内源</h2>
<blockquote>
<p><em>修改 /etc/apt/sources.list 文件即可，将内容更换为任意一种国内源即可</em></p>
</blockquote>
<p><strong>国内源：</strong></p>
<p>1.阿里源</p>
<pre><code><code><div>deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties
deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted
deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties
deb http://mirrors.aliyun.com/ubuntu/ xenial universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse
deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties
deb http://archive.canonical.com/ubuntu xenial partner
deb-src http://archive.canonical.com/ubuntu xenial partner
deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted
deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties
deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse
</div></code></code></pre>
<p>2.东北大学</p>
<pre><code><code><div>deb-src http://mirror.neu.edu.cn/ubuntu/ xenial main restricted #Added by software-properties

deb http://mirror.neu.edu.cn/ubuntu/ xenial main restricted

deb-src http://mirror.neu.edu.cn/ubuntu/ xenial restricted multiverse universe #Added by software-properties

deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates main restricted

deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties

deb http://mirror.neu.edu.cn/ubuntu/ xenial universe

deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates universe

deb http://mirror.neu.edu.cn/ubuntu/ xenial multiverse

deb http://mirror.neu.edu.cn/ubuntu/ xenial-updates multiverse

deb http://mirror.neu.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse

deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties

deb http://archive.canonical.com/ubuntu xenial partner deb-src http://archive.canonical.com/ubuntu xenial partner

deb http://mirror.neu.edu.cn/ubuntu/ xenial-security main restricted

deb-src http://mirror.neu.edu.cn/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties

deb http://mirror.neu.edu.cn/ubuntu/ xenial-security universe

deb http://mirror.neu.edu.cn/ubuntu/ xenial-security multiverse
</div></code></code></pre>
<p>3.清华大学</p>
<pre><code><code><div>deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial universe

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates universe

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial multiverse

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates multiverse

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security universe deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security multiverse
</div></code></code></pre>
<h2 id="pip更换国内源">pip更换国内源</h2>
<blockquote>
<p><em>linux下 Linux下，修改 ~/.pip/pip.conf。</em></p>
</blockquote>
<pre><code><code><div>[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple

[install]
trusted-host=mirrors.aliyun.com
</div></code></code></pre>
<blockquote>
<p><em>windows下，直接在user目录中创建一个pip目录，如：C:\Users\xx\pip，新建文件pip.ini。内容同上。</em></p>
</blockquote>
<blockquote>
<p>临时使用 ， pip install -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a> package</p>
</blockquote>
<p><em>其他国内源</em>
清华：<a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p>
<p>阿里云：<a href="http://mirrors.aliyun.com/pypi/simple/">http://mirrors.aliyun.com/pypi/simple/</a></p>
<p>中国科技大学 <a href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/</a></p>
<p>华中理工大学：<a href="http://pypi.hustunique.com/">http://pypi.hustunique.com/</a></p>
<p>山东理工大学：<a href="http://pypi.sdutlinux.org/">http://pypi.sdutlinux.org/</a></p>
<p>豆瓣：<a href="http://pypi.douban.com/simple/">http://pypi.douban.com/simple/</a></p>
<h2 id="安装anaconda后设置">安装Anaconda后设置</h2>
<pre><code class="language-sh"><div><span class="hljs-built_in">export</span> PATH=~/anaconda3/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</div></code></pre>
<h2 id="conda换源">conda换源</h2>
<pre><code class="language-sh"><div><span class="hljs-comment"># 1. 设置</span>
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
<span class="hljs-comment"># 2. 生效</span>
conda config --<span class="hljs-built_in">set</span> show_channel_urls yes
</div></code></pre>
<h2 id="设置conda默认环境">设置conda默认环境</h2>
<pre><code class="language-sh"><div>vim ~/.bashrc
在文件末尾添加 <span class="hljs-built_in">source</span> activate myenv 
</div></code></pre>
<p><strong>其他源：</strong></p>
<pre><code class="language-sh"><div><span class="hljs-comment"># 1. 中科大</span>
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
<span class="hljs-comment"># 2.清华</span>
conda config --add https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
</div></code></pre>
<h1 id="vs-code通过ssh远程编辑服务器文件">VS code通过SSH远程编辑服务器文件</h1>
<h2 id="1-安装ssh环境">1. 安装ssh环境</h2>
<blockquote>
<p>方法1：使用open ssh，win10可打开设置=&gt;应用=&gt;管理可选功能=&gt;安装open sss客户端和服务器端
（<strong>设置里找不到可<a href="https://docs.microsoft.com/zh-cn/windows-server/administration/openssh/openssh_install_firstuse">通过powershell安装</a></strong>）</p>
</blockquote>
<blockquote>
<p>或者如果有git自带ssh，那么直接使用git</p>
</blockquote>
<h2 id="2-生成公钥">2. 生成公钥</h2>
<p><em>1.建立ssh信任(确认自己本机的公钥是否存在%USERPROFILE%.ssh\id_rsa.pub,不存在就生成,命令是：</em></p>
<blockquote>
<p>ssh-keygen -t rsa -P ''</p>
</blockquote>
<p><strong>加上-P ''的意思是设置一个空密码，也可以不加，不加的话要按三次回车</strong></p>
<p><em>2. 然后把公钥id_rsa.pub的内容追加到服务器/home/.ssh/authorized_keys文件里。<strong>这样做不用每次启动vscode都输入密码了</strong></em></p>
<p><em>公钥追加到服务器可以采用以下方式</em></p>
<blockquote>
<p>scp /root/.ssh/id_rsa.pub <a href="mailto:root@192.168.1.181">root@192.168.1.181</a>:/root/.ssh/authorized_keys</p>
</blockquote>
<p>(<strong>其中/root/.ssh/id_rsa.pub为你本地公钥路径；root为你的服务器用户名；192.168.1.181为你的服务器ip；</strong>)</p>
<p><em>3. authorized_keys的权限要是600!!!</em></p>
<blockquote>
<p>chmod 600 /root/.ssh/authorized_keys</p>
</blockquote>
<h2 id="3-vs-code连接">3. vs code连接</h2>
<p><em>1. 安装Remote SSH插件</em></p>
<p><em>2. 点击左下角一个对尖括号标志</em></p>
<p><img src="file:///d:\TM\OneDrive\资料\pytohon_learn\imag\Snipaste_2020-07-11_00-14-32.PNG" alt="avatar"></p>
<p><em>3. 打开Remote-SSH: Open Configuration File...,然后配置文件内容,例如</em></p>
<pre><code><code><div>Host root
    HostName 47.97.221.121
    Port 22
    User root
    IdentityFile C:\Users\%user%\.ssh\id_rsa
</div></code></code></pre>
<p><em>4. 选择connect host之后就可以操作了</em></p>
<h1 id="问题总结">问题总结</h1>
<h2 id="1-git-clone-速度过慢解决办法">1. Git clone 速度过慢解决办法</h2>
<h3 id="使用github的镜像网站进行访问">使用github的镜像网站进行访问</h3>
<blockquote>
<p><a href="http://github.com">github.com</a>.<strong>cnpmjs</strong>.org，<a href="http://xn--github-9v7i14cmxwt8ufgphoo860cba747n70q.com">我们将原本的网站中的github.com</a> 进行替换。</p>
<p>例如上例子中替换为https://github.com.cnpmjs.org/graykode/nlp-tutorial</p>
</blockquote>
<h2 id="2-debian安装miniconda后出现condahttperror-http-000-connection-failed">2. Debian安装miniconda后出现CondaHTTPError: HTTP 000 CONNECTION FAILED</h2>
<p><a href="https://github.com/conda/conda/issues/9948">原文</a></p>
<blockquote>
<p>解决办法：更换miniconda安装版本为<strong>4.7.12</strong>(<em>开始使用版本为4.8.3</em>)</p>
</blockquote>
<h2 id="3-sudo-unable-to-resolve-host-xxxxx">3. sudo: unable to resolve host xxxxx</h2>
<blockquote>
<p>sudo vi /etc/hosts</p>
</blockquote>
<p>将<strong>127.0.0.1 localhost</strong> 改为 <strong>127.0.0.1 localhost xxxx</strong>(你的主机名)</p>
<p><em>ps:修改主机名 <strong>vi /etc/hostname</strong> 然后 <strong>sudo reboot</strong></em></p>
<h2 id="4-linux下sudo更改文件权限报错xxxis-not-in-the-sudoers-file-this-incident-will-be-reported">4. linux下sudo更改文件权限报错xxxis not in the sudoers file. This incident will be reported</h2>
<blockquote>
<p>sudo chmod 600 /etc/sudoers</p>
<p>sudo vi /etc/sudoers
在 <strong>root ALL=(ALL) ALL</strong> 下添加 <strong>xxx ALL=(ALL) ALL</strong></p>
</blockquote>
<pre><code><code><div>youuser ALL=(ALL) ALL
%youuser ALL=(ALL) ALL
youuser ALL=(ALL) NOPASSWD: ALL
%youuser ALL=(ALL) NOPASSWD: ALL

第一行:允许用户youuser执行sudo命令(需要输入密码).
第二行:允许用户组youuser里面的用户执行sudo命令(需要输入密码).
第三行:允许用户youuser执行sudo命令,并且在执行的时候不输入密码.
第四行:允许用户组youuser里面的用户执行sudo命令,并且在执行的时候不输入密码.
</div></code></code></pre>

    </body>
    </html>